import{u as B,r as s,i as A,b as u,j as n,a as d,f as r}from"./index.c55d850e.js";import{B as C}from"./ButtonPreloader.a83113e0.js";import"./react-confirm-alert.faa211aa.js";import{B as m}from"./Button.cc2bd9c0.js";import{I as i}from"./Input.fda17e4a.js";import{S as h}from"./Select.8fb5bdaa.js";import{F as y}from"./FormLayout.9b4e0445.js";function T({url:c}){const g=B(),[b,v]=s.exports.useState(!1),[e,a]=s.exports.useState({name:"",email:"",address:"",phone:"",sex:"",dob:"",age:"",bloodgroup:"",tor:"",registrationId:""});function l(t){a(o=>({...o,[t.target.name]:t.target.value}))}let x=A().search;const p=new URLSearchParams(x).get("edit");return s.exports.useEffect(()=>{u.get(`/patient/?edit=${p}`).then(t=>{a(t.data)})},[]),n(y,{formName:"EDIT PATIENT",children:d("form",{onSubmit:t=>{t.preventDefault(),v(!0),u.put(`/patient/${p}`,{name:e==null?void 0:e.name,email:e==null?void 0:e.email,address:e==null?void 0:e.address,phone:e==null?void 0:e.phone,sex:e==null?void 0:e.sex,dob:e==null?void 0:e.dob,age:e==null?void 0:e.age,bloodgroup:e==null?void 0:e.bloodgroup,tor:e==null?void 0:e.tor,registrationId:e==null?void 0:e.registrationId}).then(o=>{g(`${c}`,{replace:!0}),r.success(o.data)}).catch(o=>r.error(o.response.data))},children:[n(i,{label:"Name",type:"text",name:"name",value:e==null?void 0:e.name,onChange:l}),n(i,{label:"Email",type:"email",name:"email",value:e==null?void 0:e.email,onChange:l}),n(i,{label:"Address",type:"text",name:"address",value:e==null?void 0:e.address,onChange:l}),n(i,{label:"Phone Number",type:"text",name:"phone",value:e==null?void 0:e.phone,onChange:l}),d(h,{label:"Sex",name:"sex",onChange:l,children:[n("option",{value:e==null?void 0:e.sex,children:e==null?void 0:e.sex}),n("option",{value:"Male",children:"Male"}),n("option",{value:"Female",children:"Female"})]}),n(i,{label:"Date of Birth",type:"date",name:"dob",value:e==null?void 0:e.dob,onChange:l}),n(i,{label:"Age",type:"number",name:"age",value:e==null?void 0:e.age,onChange:l}),d(h,{label:"Blood Group",name:"bloodgroup",onChange:l,children:[n("option",{value:e==null?void 0:e.bloodgroup,children:e==null?void 0:e.bloodgroup}),n("option",{value:"A+",children:"A+"}),n("option",{value:"A-",children:"A-"}),n("option",{value:"B+",children:"B+"}),n("option",{value:"B-",children:"B-"}),n("option",{value:"AB+",children:"AB+"}),n("option",{value:"AB-",children:"AB-"}),n("option",{value:"O+",children:"O+"}),n("option",{value:"O-",children:"O-"})]}),n(i,{label:"Time Of Registration",type:"datetime-local",name:"tor",value:e==null?void 0:e.tor,onChange:l}),n("input",{type:"hidden",name:"registrationId",value:e==null?void 0:e.registrationId,onChange:l}),n(m,{children:b?n(C,{}):"Edit Patient"})]})})}export{T as E};
