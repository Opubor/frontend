import{r,l as x,u as f,i as v,b as m,j as t,F as E,a as b,f as d}from"./index.c55d850e.js";import{B as C}from"./ButtonPreloader.a83113e0.js";import"./react-confirm-alert.faa211aa.js";import{B as F}from"./Button.cc2bd9c0.js";import{I as c}from"./Input.fda17e4a.js";import{A as S}from"./AdminSidebar.d0abf29e.js";import{F as B}from"./FormLayout.9b4e0445.js";import"./index.esm.b63de3f8.js";import"./index.esm.59588f6b.js";import"./index.esm.a62ec7e6.js";import"./index.esm.dd6fd4e7.js";import"./index.esm.1e62d156.js";import"./index.esm.7f54cd8a.js";import"./Forbidden.6616ff59.js";function q(){const{user:o}=r.exports.useContext(x),[l,u]=r.exports.useState(!1);o==null||o.role;const h=f(),[e,s]=r.exports.useState({name:"",description:""});function i(a){s(n=>({...n,[a.target.name]:a.target.value}))}let g=v().search;const p=new URLSearchParams(g).get("edit");return r.exports.useEffect(()=>{m.get(`/department/?edit=${p}`).then(a=>{s(a.data)})},[]),t(E,{children:t(S,{children:t(B,{formName:"EDIT DEPARTMENT",children:b("form",{onSubmit:a=>{a.preventDefault(),u(!0),m.put(`/department/${p}`,{name:e==null?void 0:e.name,description:e==null?void 0:e.description}).then(n=>{h("/admin/departments",{replace:!0}),d.success(n.data)}).catch(n=>{d.error(n.response.data)})},children:[t(c,{label:"Department Name",name:"name",value:e==null?void 0:e.name,type:"text",onChange:i}),t(c,{label:"Description",name:"description",value:e==null?void 0:e.description,type:"text",onChange:i}),t(F,{children:l?t(C,{}):"Edit Department"})]})})})})}export{q as default};
