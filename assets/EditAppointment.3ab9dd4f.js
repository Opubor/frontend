import{u as v,r as n,l as C,i as E,b as s,j as o,a as c,f as u}from"./index.c55d850e.js";import{B as y}from"./ButtonPreloader.a83113e0.js";import"./react-confirm-alert.faa211aa.js";import{B}from"./Button.cc2bd9c0.js";import{I}from"./Input.fda17e4a.js";import{S as L}from"./Select.8fb5bdaa.js";import{F as N}from"./FormLayout.9b4e0445.js";import{D as j}from"./DoctorSidebar.9f53444b.js";import"./index.esm.b63de3f8.js";import"./index.esm.59588f6b.js";import"./index.esm.a62ec7e6.js";import"./index.esm.7f54cd8a.js";import"./index.esm.1e62d156.js";import"./Forbidden.6616ff59.js";function H(){const l=v(),{user:r}=n.exports.useContext(C),[h,f]=n.exports.useState([]),[g,x]=n.exports.useState([]),[S,b]=n.exports.useState(!1),[a,d]=n.exports.useState({doctorid:`${r==null?void 0:r._id}`,patientid:"",date:""});function i(t){d(e=>({...e,[t.target.name]:t.target.value}))}let P=E().search;const p=new URLSearchParams(P).get("edit");return n.exports.useEffect(()=>{s.get("/patient").then(t=>{f(t.data)}),s.get(`/appointment/?edit=${p}`).then(t=>{var e,m;d(t.data),x((m=(e=t.data)==null?void 0:e.patients[0])==null?void 0:m.name)})},[]),o(j,{children:o(N,{formName:"EDIT APPOINTMENT",children:c("form",{onSubmit:t=>{t.preventDefault(),b(!0),s.put(`/appointment/${p}`,{doctorid:a.doctorid,patientid:a.patientid,date:a.date}).then(e=>{l("/doctor/appointments",{replace:!0}),u.success(e.data)}).catch(e=>{u.error(e.response.data)})},children:[o("input",{type:"hidden",name:"doctorid",onChange:i}),c(L,{label:"Patient",name:"patientid",type:"number",onChange:i,children:[o("option",{value:a==null?void 0:a.patientid,children:g}),h.map((t,e)=>o("option",{value:t==null?void 0:t._id,children:t==null?void 0:t.name},e))]}),o(I,{label:"Date",type:"date",name:"date",value:a==null?void 0:a.date,onChange:i}),o(B,{children:S?o(y,{}):"Edit Appointment"})]})})})}export{H as default};
