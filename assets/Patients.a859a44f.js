import{r as i,l as I,j as e,a as l,b as g,f as b}from"./index.c55d850e.js";import{D as E}from"./DeleteButton.3f04aad9.js";import{E as R}from"./EditButton.a9b543b8.js";import{B as j}from"./Button.cc2bd9c0.js";import{I as a}from"./Input.fda17e4a.js";import{S as L}from"./SearchInput.d601d567.js";import{S as v}from"./Select.8fb5bdaa.js";import{f as M}from"./index.esm.b63de3f8.js";import"./react-confirm-alert.faa211aa.js";import{O as G,a as _}from"./OptionsTh.51a89229.js";import{T as $,a as w,b as t,c as k,d}from"./Thead.0469f9f5.js";import{F as q}from"./FormLayout.9b4e0445.js";import{T as z}from"./Tabs.6a24e51f.js";import{I as H}from"./IndexNo.59fc62c3.js";import{T as J}from"./TotalNo.2473c2cd.js";import{R as K}from"./index.esm.069163f1.js";import{R as Q}from"./ReactPagination.58cc128c.js";import{B as U}from"./ButtonPreloader.a83113e0.js";function me({role:B}){i.exports.useContext(I);const[S,m]=i.exports.useState(!1),[r,T]=i.exports.useState({name:"",email:"",address:"",phone:"",sex:"",dob:"",age:"",bloodgroup:"",tor:""});function s(o){T(n=>({...n,[o.target.name]:o.target.value}))}function u(){g.get("/patient").then(o=>{p(o.data)}).catch(o=>{b.error(o.data)})}const A=o=>{o.preventDefault(),m(!0),g.post("/patient",{name:r==null?void 0:r.name,email:r==null?void 0:r.email,address:r==null?void 0:r.address,phone:r==null?void 0:r.phone,sex:r==null?void 0:r.sex,dob:r==null?void 0:r.dob,age:r==null?void 0:r.age,bloodgroup:r==null?void 0:r.bloodgroup,tor:r==null?void 0:r.tor}).then(n=>{m(!1),u(),b.success(n.data)}).catch(n=>{m(!1),b.error(n.response.data)})},[c,p]=i.exports.useState([]),[x,f]=i.exports.useState(1);i.exports.useEffect(()=>{u()},[]);const C=o=>{g.get(`/patient?q=${o}`).then(n=>{p(n.data),f(1)})},h=10,P=x*h,O=P-h,y=c.slice(O,P),N=Math.ceil(c.length/h),F=o=>{f(o.selected+1)};return e(z,{label1:"Patients",content1:l("div",{children:[l("div",{className:"flex justify-between items-center",children:[e(L,{onSearch:C}),l("div",{className:"items-center flex flex-col lg:flex-row",children:[e(J,{totalnumber:c==null?void 0:c.length}),e(Q,{pageCount:N,handlePageClick:F})]})]}),l($,{children:[l(w,{children:[e(H,{children:"#"}),e(t,{children:"Reg. Id"}),e(t,{children:"Name"}),e(t,{children:"Phone"}),e(t,{children:"Sex"}),e(t,{children:"Age"}),e(t,{children:"Blood Group"}),e(t,{children:"Time Of Registration"}),e(G,{children:"Options"})]}),y.map((o,n)=>l(k,{children:[e(d,{children:n+1*(x*h-9)}),e(d,{className:"font-bold",children:o==null?void 0:o.registrationId}),e(d,{children:o==null?void 0:o.name}),e(d,{children:o==null?void 0:o.phone}),e(d,{children:o==null?void 0:o.sex}),e(d,{children:o==null?void 0:o.age}),e(d,{children:o==null?void 0:o.bloodgroup}),e(d,{children:o==null?void 0:o.tor}),l(_,{children:[l(R,{editFunction:`${B}/edit_patient?edit=${o==null?void 0:o._id}`,children:["Edit",e(K,{})]}),l(E,{path:"patient",id:o==null?void 0:o._id,record:u,children:["Delete",e(M,{})]})]})]},n))]})]}),label2:"Add Patient",content2:e(q,{formName:"ADD PATIENT",children:l("form",{onSubmit:A,children:[e(a,{label:"Name",type:"text",name:"name",onChange:s}),e(a,{label:"Email",type:"email",name:"email",onChange:s}),e(a,{label:"Address",type:"text",name:"address",onChange:s}),e(a,{label:"Phone Number",type:"text",name:"phone",onChange:s}),l(v,{label:"Sex",name:"sex",onChange:s,children:[e("option",{value:"",children:"Select Sex"}),e("option",{value:"Male",children:"Male"}),e("option",{value:"Female",children:"Female"})]}),e(a,{label:"Date of Birth",type:"date",name:"dob",onChange:s}),e(a,{label:"Age",type:"number",name:"age",onChange:s}),l(v,{label:"Blood Group",name:"bloodgroup",onChange:s,children:[e("option",{value:"",children:"Select Blood Group"}),e("option",{value:"A+",children:"A+"}),e("option",{value:"A-",children:"A-"}),e("option",{value:"B+",children:"B+"}),e("option",{value:"B-",children:"B-"}),e("option",{value:"AB+",children:"AB+"}),e("option",{value:"AB-",children:"AB-"}),e("option",{value:"O+",children:"O+"}),e("option",{value:"O-",children:"O-"})]}),e(a,{label:"Time Of Registration",type:"datetime-local",name:"tor",onChange:s}),e(j,{children:S?e(U,{}):"Add Patient"})]})})})}export{me as P};
