import{r as n,l as v,j as r,a as o,b as P}from"./index.c55d850e.js";import{R as C}from"./ReactPagination.58cc128c.js";import{D}from"./DeleteButton.3f04aad9.js";import{E}from"./EditButton.a9b543b8.js";import{S as I}from"./SearchInput.d601d567.js";import{f as R}from"./index.esm.b63de3f8.js";import"./react-confirm-alert.faa211aa.js";import{O as S,a as j}from"./OptionsTh.51a89229.js";import{T as w,a as F,b as i,c as M,d as t}from"./Thead.0469f9f5.js";import{I as _}from"./IndexNo.59fc62c3.js";import{T as A}from"./TotalNo.2473c2cd.js";import{R as B}from"./index.esm.069163f1.js";function W(){const{user:s}=n.exports.useContext(v),[c,a]=n.exports.useState([]),[h,f]=n.exports.useState(1);function u(){P.get("/payments").then(e=>{a(e.data)}).catch(e=>{toast.error(e.data)})}n.exports.useEffect(()=>{u()},[]);const T=e=>{P.get(`/payments?q=${e}`).then(l=>{a(l.data),f(1)})},d=10,g=h*d,b=g-d,m=c.slice(b,g),N=Math.ceil(c.length/d),O=e=>{f(e.selected+1)};return r("div",{className:"p-8 bg-gray-100",children:o("div",{children:[o("div",{className:"flex justify-between items-center",children:[r(I,{onSearch:T}),o("div",{className:"items-center flex flex-col lg:flex-row",children:[r(A,{totalnumber:c==null?void 0:c.length}),r(C,{pageCount:N,handlePageClick:O})]})]}),o(w,{children:[o(F,{children:[r(_,{children:"#"}),r(i,{children:"Reg. Id"}),r(i,{children:"Patient Name"}),r(i,{children:"Date"}),r(i,{children:"Amount"}),r(i,{children:"Mode of Payment"}),r(i,{children:"Purpose"}),(s==null?void 0:s.role)!=="admin"&&r(S,{children:"Options"})]}),m.map((e,l)=>{var x;return o(M,{children:[r(t,{children:l+1*(h*d-9)}),r(t,{className:"font-bold",children:(x=e==null?void 0:e.patients[0])==null?void 0:x.registrationId}),r(t,{children:e==null?void 0:e.name}),r(t,{children:e==null?void 0:e.date}),r(t,{children:o("span",{className:"font-bold",children:["\u20A6",e==null?void 0:e.amount]})}),r(t,{children:e==null?void 0:e.modeofpayment}),r(t,{children:e==null?void 0:e.purpose}),(s==null?void 0:s.role)!=="admin"&&o(j,{children:[o(E,{editFunction:`/accountant/edit_payment?edit=${e==null?void 0:e._id}`,children:["Edit",r(B,{})]}),o(D,{path:"payments",id:e==null?void 0:e._id,record:u,children:["Delete",r(R,{})]})]})]},l)})]})]})})}export{W as V};
